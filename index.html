<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sketch</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>

  <body>
    <div id="container-title-body-controls">
      <div id="container-title">
        <h1>Sketch Game</h1>
      </div>

      <div id="container-controls">
        <button id="random-colours">Random Colours</button>
        <button id="degrees-of-black">Degrees of Black</button>
        <button id="black">Black</button>
      </div>

      <div id="container-body"></div>
    </div>

    <script>
      //Create squares
      const squQty = 756;

      const containerBody = document.querySelector("#container-body");
      for (let i = 0; i < squQty; i++) {
        const divs = document.createElement("div");
        divs.className = "squares";
        containerBody.appendChild(divs);
      }

      const squares = document.querySelectorAll(".squares");
      const btns = document.querySelectorAll("button");

      //Switches to turn colours on and off
      let blackSwitch = true;
      let randomColourSwitch = false;
      let degreesOfBlackSwitch = false;

      function updateBtns() {
        if (this.id === "random-colours") {
          randomColourSwitch = true;
          blackSwitch = false;
          degreesOfBlackSwitch = false;
        } else if (this.id === "degrees-of-black") {
          randomColourSwitch = false;
          blackSwitch = false;
          degreesOfBlackSwitch = true;
        } else {
          randomColourSwitch = false;
          blackSwitch = true;
          degreesOfBlackSwitch = false;
        }
      }
      btns.forEach((btn) => btn.addEventListener("click", updateBtns));

      let changeBlackness = true;

      let blackness = 110;

      function changeColour(e) {
        //Default colour is black
        // this.style.backgroundColor = "black";

        //Random Colours
        if (randomColourSwitch) {
          randomColour = Math.floor(Math.random() * 361);
          console.log(this);
          e.target.style.backgroundColor = `hsl(${randomColour}, 100%, 50%)`;
          //this.setAttribute('style', 'background-color: red');
        }

        //Degrees of Blackness
        if (degreesOfBlackSwitch) {
          if (changeBlackness === true) {
            blackness = blackness - 10;
            //console.log(blackness);
            if (blackness < 10) {
              changeBlackness = false;
            }
          }

          if (changeBlackness === false) {
            blackness = blackness + 10;
            // console.log(blackness);
            if (blackness > 100) {
              changeBlackness = true;
            }
          }
          this.style.backgroundColor = `hwb(0 ${blackness}% 100%)`;
        }

        if (blackSwitch) {
          this.style.backgroundColor = "black";
        }
      }

      squares.forEach((square) =>
        square.addEventListener("mouseover", changeColour)
      );
    </script>
  </body>
</html>
